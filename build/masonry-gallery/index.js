(()=>{"use strict";var e,l={18:()=>{const e=window.wp.blocks,l=window.wp.blockEditor,o=window.wp.i18n,n=window.wp.components,a=window.wp.primitives,r=window.ReactJSXRuntime,s=(0,r.jsx)(a.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)(a.Path,{d:"M16.375 4.5H4.625a.125.125 0 0 0-.125.125v8.254l2.859-1.54a.75.75 0 0 1 .68-.016l2.384 1.142 2.89-2.074a.75.75 0 0 1 .874 0l2.313 1.66V4.625a.125.125 0 0 0-.125-.125Zm.125 9.398-2.75-1.975-2.813 2.02a.75.75 0 0 1-.76.067l-2.444-1.17L4.5 14.583v1.792c0 .069.056.125.125.125h11.75a.125.125 0 0 0 .125-.125v-2.477ZM4.625 3C3.728 3 3 3.728 3 4.625v11.75C3 17.273 3.728 18 4.625 18h11.75c.898 0 1.625-.727 1.625-1.625V4.625C18 3.728 17.273 3 16.375 3H4.625ZM20 8v11c0 .69-.31 1-.999 1H6v1.5h13.001c1.52 0 2.499-.982 2.499-2.5V8H20Z",fillRule:"evenodd",clipRule:"evenodd"})}),i=window.wp.element,t=window.wp.data;function c(e){return e.map((({id:e,url:l,alt:o})=>({id:e,url:l,alt:o})))}const d=JSON.parse('{"UU":"f0xn0v4/masonry-gallery"}');(0,e.registerBlockType)(d.UU,{icon:(0,r.jsxs)("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",stroke:"none",children:[(0,r.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,r.jsx)("path",{d:"M22 9.999V20a1 1 0 0 1-1 1h-8V9.999h9zm-11 6V21H3a1 1 0 0 1-1-1v-4.001h9zM11 3v10.999H2V4a1 1 0 0 1 1-1h8zm10 0a1 1 0 0 1 1 1v3.999h-9V3h8z"})]}),edit:function({attributes:a,setAttributes:d,clientId:u}){const{columnsS:p,columnsM:h,columnsL:m,resolution:g,spacing:v,lightbox:x}=a,b=(0,l.useBlockProps)({className:"wp-block-f0xn0v4-masonry-gallery"}),_=(0,t.useSelect)((e=>{const{getBlock:o}=e(l.store),n=o(u);return n?.innerBlocks||[]}),[u]),w=(0,l.useInnerBlocksProps)({className:_.length>0?`wp-block-f0xn0v4-masonry-gallery__inner-blocks col-l-${m} col-m-${h} col-s-${p}`:"wp-block-f0xn0v4-masonry-gallery__inner-blocks",style:{"--image-spacing":v}},{allowedBlocks:["core/image"]}),{replaceInnerBlocks:y,updateBlockAttributes:k}=(0,t.useDispatch)(l.store);let j;return _.length?j=(0,r.jsx)("div",{...w}):(j=(0,r.jsxs)(n.Placeholder,{icon:s,label:(0,o.__)("Masonry Gallery"),instructions:(0,o.__)("Drag and drop images, upload, or choose from your library"),children:[(0,r.jsx)(l.MediaUploadCheck,{children:(0,r.jsx)(l.MediaUpload,{value:_.map((e=>e.attributes.id)),multiple:!0,gallery:!0,mode:"upload",allowedTypes:["image"],onSelect:l=>{const o=(Array.isArray(l)?c(l):c([l])).map((l=>(0,e.createBlock)("core/image",{...l,sizeSlug:g,lightbox:{enabled:x}})));y(u,o,!1)},render:({open:e})=>(0,r.jsx)(n.Button,{variant:"primary",onClick:e,children:(0,o.__)("Upload")})})}),(0,r.jsx)(l.MediaUploadCheck,{children:(0,r.jsx)(l.MediaUpload,{value:_.map((e=>e.attributes.id)),multiple:!0,gallery:!0,mode:"browse",allowedTypes:["image"],onSelect:l=>{const o=(Array.isArray(l)?c(l):c([l])).map((l=>(0,e.createBlock)("core/image",{...l,sizeSlug:g,lightbox:{enabled:x}})));y(u,o,!1)},render:({open:e})=>(0,r.jsx)(n.Button,{variant:"secondary",onClick:e,children:(0,o.__)("Media Library")})})})]}),j=(0,r.jsx)("div",{...w,children:j})),(0,i.useRef)(_),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.BlockControls,{children:(0,r.jsx)(l.MediaUploadCheck,{children:(0,r.jsx)(l.MediaUpload,{value:_.map((e=>e.attributes.id)),multiple:!0,gallery:!0,mode:"browse",allowedTypes:["image"],onSelect:l=>{const o=(Array.isArray(l)?c(l):c([l])).map((l=>(0,e.createBlock)("core/image",{...l,sizeSlug:g,lightbox:{enabled:x}})));y(u,o,!1)},render:({open:e})=>(0,r.jsx)(n.ToolbarGroup,{children:(0,r.jsx)(n.ToolbarButton,{onClick:e,children:"Add/Edit"})})})})}),(0,r.jsxs)(l.InspectorControls,{children:[(0,r.jsxs)(n.PanelBody,{title:"Settings",children:[(0,r.jsx)(n.SelectControl,{label:(0,o.__)("Resolution"),value:g,options:[{label:(0,o.__)("Thumbnail"),value:(0,o.__)("thumbnail")},{label:(0,o.__)("Medium"),value:(0,o.__)("medium")},{label:(0,o.__)("Large"),value:(0,o.__)("large")},{label:(0,o.__)("Full Size"),value:(0,o.__)("full")}],onChange:e=>{d({resolution:e}),_.forEach((l=>{k(l.clientId,{sizeSlug:e})}))}}),(0,r.jsx)(n.ToggleControl,{label:(0,o.__)("Enable Lightbox"),checked:x,onChange:e=>{d({lightbox:e}),_.forEach((l=>{k(l.clientId,{lightbox:{enabled:e}})}))}})]}),(0,r.jsxs)(n.PanelBody,{title:"Layout",children:[(0,r.jsx)(n.RangeControl,{label:(0,o.__)("Columns (Desktop)"),value:m,min:1,max:5,onChange:e=>d({columnsL:e})}),(0,r.jsx)(n.RangeControl,{label:(0,o.__)("Columns (Tablet)"),value:h,min:1,max:5,onChange:e=>d({columnsM:e})}),(0,r.jsx)(n.RangeControl,{label:(0,o.__)("Columns (Mobile)"),value:p,min:1,max:5,onChange:e=>d({columnsS:e})}),(0,r.jsx)(n.__experimentalUnitControl,{__next40pxDefaultSize:!0,value:v,label:(0,o.__)("Block Spacing"),onChange:e=>d({spacing:e})}),(0,r.jsx)(n.Button,{variant:"secondary",style:{width:"100%",justifyContent:"center"},onClick:()=>{d({columnsL:3,columnsM:2,columnsS:1,spacing:"1rem"})},children:(0,o.__)("Restore Defaults")})]})]}),(0,r.jsx)("div",{...b,children:j})]})},save:()=>{const e=l.useBlockProps.save(),o=l.useInnerBlocksProps.save();return(0,r.jsx)("div",{...e,children:(0,r.jsx)("div",{...o})})}})}},o={};function n(e){var a=o[e];if(void 0!==a)return a.exports;var r=o[e]={exports:{}};return l[e](r,r.exports,n),r.exports}n.m=l,e=[],n.O=(l,o,a,r)=>{if(!o){var s=1/0;for(d=0;d<e.length;d++){for(var[o,a,r]=e[d],i=!0,t=0;t<o.length;t++)(!1&r||s>=r)&&Object.keys(n.O).every((e=>n.O[e](o[t])))?o.splice(t--,1):(i=!1,r<s&&(s=r));if(i){e.splice(d--,1);var c=a();void 0!==c&&(l=c)}}return l}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[o,a,r]},n.o=(e,l)=>Object.prototype.hasOwnProperty.call(e,l),(()=>{var e={144:0,672:0};n.O.j=l=>0===e[l];var l=(l,o)=>{var a,r,[s,i,t]=o,c=0;if(s.some((l=>0!==e[l]))){for(a in i)n.o(i,a)&&(n.m[a]=i[a]);if(t)var d=t(n)}for(l&&l(o);c<s.length;c++)r=s[c],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(d)},o=globalThis.webpackChunkmasonry_blocks=globalThis.webpackChunkmasonry_blocks||[];o.forEach(l.bind(null,0)),o.push=l.bind(null,o.push.bind(o))})();var a=n.O(void 0,[672],(()=>n(18)));a=n.O(a)})();